{"version":3,"file":"register.js","sources":["pages/register/register.vue","E:/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvcmVnaXN0ZXIvcmVnaXN0ZXIudnVl"],"sourcesContent":["<template>\r\n\t<view class=\"register-container\">\r\n\t\t<!-- 自定义导航栏 -->\r\n\t\t<view class=\"custom-navbar\">\r\n\t\t\t<view class=\"back-btn\" @tap=\"goBack\">\r\n\t\t\t\t<text class=\"back-icon\">‹</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"navbar-title\">新用户注册</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 表单容器 -->\r\n\t\t<view class=\"form-container\">\r\n\t\t\t<!-- 姓名 -->\r\n\t\t\t<view class=\"form-item\">\r\n\t\t\t\t<view class=\"label-wrapper\">\r\n\t\t\t\t\t<text class=\"form-label\">姓名</text>\r\n\t\t\t\t\t<text class=\"required-mark\">*</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclass=\"form-input\"\r\n\t\t\t\t\tv-model=\"formData.name\"\r\n\t\t\t\t\tplaceholder=\"请输入姓名\"\r\n\t\t\t\t\tplaceholder-class=\"input-placeholder\"\r\n\t\t\t\t/>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 公司名称 -->\r\n\t\t\t<view class=\"form-item\">\r\n\t\t\t\t<view class=\"label-wrapper\">\r\n\t\t\t\t\t<text class=\"form-label\">公司名称</text>\r\n\t\t\t\t\t<text class=\"required-mark\">*</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclass=\"form-input\"\r\n\t\t\t\t\tv-model=\"formData.companyName\"\r\n\t\t\t\t\tplaceholder=\"请输入公司名称\"\r\n\t\t\t\t\tplaceholder-class=\"input-placeholder\"\r\n\t\t\t\t/>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 联系方式 -->\r\n\t\t\t<view class=\"form-item\">\r\n\t\t\t\t<view class=\"label-wrapper\">\r\n\t\t\t\t\t<text class=\"form-label\">联系方式</text>\r\n\t\t\t\t\t<text class=\"required-mark\">*</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclass=\"form-input\"\r\n\t\t\t\t\tv-model=\"formData.contact\"\r\n\t\t\t\t\tplaceholder=\"请输入手机号或邮箱\"\r\n\t\t\t\t\tplaceholder-class=\"input-placeholder\"\r\n\t\t\t\t/>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- CRM编码 -->\r\n\t\t\t<view class=\"form-item\">\r\n\t\t\t\t<view class=\"label-wrapper\">\r\n\t\t\t\t\t<text class=\"form-label\">CRM编码</text>\r\n\t\t\t\t\t<text class=\"optional-mark\">（选填）</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<textarea\r\n\t\t\t\t\tclass=\"form-textarea\"\r\n\t\t\t\t\tv-model=\"formData.crmCode\"\r\n\t\t\t\t\tplaceholder=\"请联系对应销售获取CRM编码\"\r\n\t\t\t\t\tplaceholder-class=\"input-placeholder\"\r\n\t\t\t\t\t:maxlength=\"-1\"\r\n\t\t\t\t/>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<!-- 隐私条款 -->\r\n\t\t\t<view class=\"agreement\">\r\n\t\t\t\t<checkbox \r\n\t\t\t\t\t:checked=\"agreed\" \r\n\t\t\t\t\t@tap=\"agreed = !agreed\" \r\n\t\t\t\t\tcolor=\"#000\"\r\n\t\t\t\t\tclass=\"agreement-checkbox\"\r\n\t\t\t\t/>\r\n\t\t\t\t<text class=\"agreement-text\">隐私条款</text>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<!-- 提交按钮 -->\r\n\t\t\t<button class=\"submit-btn\" @tap=\"handleSubmit\">报名参加</button>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nimport { cooperationApi } from '@/api/cooperation.js'\r\n\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tformData: {\r\n\t\t\t\tname: '',\r\n\t\t\t\tcompanyName: '',\r\n\t\t\t\tcontact: '',\r\n\t\t\t\tcrmCode: ''\r\n\t\t\t},\r\n\t\t\tagreed: false\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tgoBack() {\r\n\t\t\tuni.navigateBack()\r\n\t\t},\r\n\t\t\r\n\t\tvalidateForm() {\r\n\t\t\tif (!this.formData.name.trim()) {\r\n\t\t\t\tuni.showToast({ title: '请输入姓名', icon: 'none' })\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\t\t\tif (!this.formData.companyName.trim()) {\r\n\t\t\t\tuni.showToast({ title: '请输入公司名称', icon: 'none' })\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\t\t\tif (!this.formData.contact.trim()) {\r\n\t\t\t\tuni.showToast({ title: '请输入联系方式', icon: 'none' })\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\t\t\t// CRM编码为选填项，不需要验证\r\n\t\t\tif (!this.agreed) {\r\n\t\t\t\tuni.showToast({ title: '请先同意隐私条款', icon: 'none' })\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\t\t\treturn true\r\n\t\t},\r\n\t\t\r\n\t\tasync handleSubmit() {\r\n\t\t\tif (!this.validateForm()) {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\ttry {\r\n\t\t\t\tuni.showLoading({ title: '提交中...' })\r\n\r\n\t\t\t\t// 调用业务合作注册接口\r\n\t\t\t\tconst res = await cooperationApi.register({\r\n\t\t\t\t\tname: this.formData.name,\r\n\t\t\t\t\tcompanyName: this.formData.companyName,\r\n\t\t\t\t\tcontact: this.formData.contact,\r\n\t\t\t\t\tcrmCode: this.formData.crmCode || ''\r\n\t\t\t\t})\r\n\r\n\t\t\t\tuni.hideLoading()\r\n\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '感谢注册',\r\n\t\t\t\t\tcontent: '如需使用业务合作功能，请等待1-3个工作日人工审核。谢谢！',\r\n\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\tconfirmText: '确定',\r\n\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\t// 注册成功后直接跳转到首页\r\n\t\t\t\t\t\tuni.switchTab({\r\n\t\t\t\t\t\t\turl: '/pages/index/index'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\t\t\t} catch (e) {\r\n\t\t\t\tuni.hideLoading()\r\n\t\t\t\tconsole.error('注册失败:', e)\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: e.message || '注册失败，请重试',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.register-container {\r\n\tmin-height: 100vh;\r\n\tbackground-color: #F5F5F5;\r\n}\r\n\r\n/* 自定义导航栏 */\r\n.custom-navbar {\r\n\tposition: relative;\r\n\theight: 88rpx;\r\n\tbackground-color: #FFFFFF;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\tborder-bottom: 1rpx solid #E5E5E5;\r\n}\r\n\r\n.back-btn {\r\n\tposition: absolute;\r\n\tleft: 32rpx;\r\n\twidth: 48rpx;\r\n\theight: 48rpx;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n}\r\n\r\n.back-icon {\r\n\tfont-size: 48rpx;\r\n\tcolor: #000;\r\n\tfont-weight: 300;\r\n\tline-height: 1;\r\n}\r\n\r\n.navbar-title {\r\n\tfont-size: 34rpx;\r\n\tfont-weight: 500;\r\n\tcolor: #000;\r\n}\r\n\r\n/* 表单容器 */\r\n.form-container {\r\n\tmargin: 32rpx 32rpx 0;\r\n\tbackground-color: #FFFFFF;\r\n\tborder-radius: 16rpx;\r\n\tpadding: 48rpx 32rpx;\r\n}\r\n\r\n/* 表单项 */\r\n.form-item {\r\n\tmargin-bottom: 48rpx;\r\n}\r\n\r\n.label-wrapper {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tmargin-bottom: 16rpx;\r\n}\r\n\r\n.form-label {\r\n\tfont-size: 28rpx;\r\n\tcolor: #000;\r\n\tfont-weight: 400;\r\n}\r\n\r\n.required-mark {\r\n\tfont-size: 28rpx;\r\n\tcolor: #f34545;\r\n\tmargin-left: 4rpx;\r\n}\r\n\r\n.optional-mark {\r\n\tfont-size: 24rpx;\r\n\tcolor: #a7abb2;\r\n\tmargin-left: 8rpx;\r\n}\r\n\r\n.form-input {\r\n\twidth: 100%;\r\n\theight: 80rpx;\r\n\tbackground-color: #F5F5F5;\r\n\tborder-radius: 8rpx;\r\n\tpadding: 0 24rpx;\r\n\tfont-size: 28rpx;\r\n\tcolor: #000;\r\n\tborder: none;\r\n}\r\n\r\n.form-textarea {\r\n\twidth: 100%;\r\n\tmin-height: 160rpx;\r\n\tbackground-color: #F5F5F5;\r\n\tborder-radius: 8rpx;\r\n\tpadding: 20rpx 24rpx;\r\n\tfont-size: 28rpx;\r\n\tcolor: #000;\r\n\tborder: none;\r\n\tbox-sizing: border-box;\r\n}\r\n\r\n.input-placeholder {\r\n\tcolor: #C0C0C0;\r\n\tfont-size: 28rpx;\r\n}\r\n\r\n/* 隐私条款 */\r\n.agreement {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tmargin-top: 80rpx;\r\n\tmargin-bottom: 48rpx;\r\n}\r\n\r\n.agreement-checkbox {\r\n\tmargin-right: 16rpx;\r\n\ttransform: scale(1);\r\n}\r\n\r\n.agreement-text {\r\n\tfont-size: 28rpx;\r\n\tcolor: #000;\r\n\tfont-weight: 400;\r\n}\r\n\r\n/* 提交按钮 */\r\n.submit-btn {\r\n\twidth: 100%;\r\n\theight: 88rpx;\r\n\tbackground-color: #000;\r\n\tcolor: #FFF;\r\n\tfont-size: 32rpx;\r\n\tfont-weight: 500;\r\n\tborder-radius: 44rpx;\r\n\tborder: none;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n}\r\n\r\n.submit-btn::after {\r\n\tborder: none;\r\n}\r\n</style>","import MiniProgramPage from 'C:/Users/26593/Documents/HBuilderProjects/shixiaoyun/pages/register/register.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","cooperationApi"],"mappings":";;;AAyFA,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO;AAAA,MACN,UAAU;AAAA,QACT,MAAM;AAAA,QACN,aAAa;AAAA,QACb,SAAS;AAAA,QACT,SAAS;AAAA,MACT;AAAA,MACD,QAAQ;AAAA,IACT;AAAA,EACA;AAAA,EACD,SAAS;AAAA,IACR,SAAS;AACRA,oBAAAA,MAAI,aAAa;AAAA,IACjB;AAAA,IAED,eAAe;AACd,UAAI,CAAC,KAAK,SAAS,KAAK,KAAI,GAAI;AAC/BA,sBAAG,MAAC,UAAU,EAAE,OAAO,SAAS,MAAM,QAAQ;AAC9C,eAAO;AAAA,MACR;AACA,UAAI,CAAC,KAAK,SAAS,YAAY,KAAI,GAAI;AACtCA,sBAAG,MAAC,UAAU,EAAE,OAAO,WAAW,MAAM,QAAQ;AAChD,eAAO;AAAA,MACR;AACA,UAAI,CAAC,KAAK,SAAS,QAAQ,KAAI,GAAI;AAClCA,sBAAG,MAAC,UAAU,EAAE,OAAO,WAAW,MAAM,QAAQ;AAChD,eAAO;AAAA,MACR;AAEA,UAAI,CAAC,KAAK,QAAQ;AACjBA,sBAAG,MAAC,UAAU,EAAE,OAAO,YAAY,MAAM,QAAQ;AACjD,eAAO;AAAA,MACR;AACA,aAAO;AAAA,IACP;AAAA,IAED,MAAM,eAAe;AACpB,UAAI,CAAC,KAAK,gBAAgB;AACzB;AAAA,MACD;AAEA,UAAI;AACHA,sBAAAA,MAAI,YAAY,EAAE,OAAO,UAAU;AAGnC,cAAM,MAAM,MAAMC,gBAAc,eAAC,SAAS;AAAA,UACzC,MAAM,KAAK,SAAS;AAAA,UACpB,aAAa,KAAK,SAAS;AAAA,UAC3B,SAAS,KAAK,SAAS;AAAA,UACvB,SAAS,KAAK,SAAS,WAAW;AAAA,SAClC;AAEDD,sBAAAA,MAAI,YAAY;AAEhBA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,SAAS;AAAA,UACT,YAAY;AAAA,UACZ,aAAa;AAAA,UACb,SAAS,MAAM;AAEdA,0BAAAA,MAAI,UAAU;AAAA,cACb,KAAK;AAAA,aACL;AAAA,UACF;AAAA,SACA;AAAA,MAEF,SAAS,GAAG;AACXA,sBAAAA,MAAI,YAAY;AAChBA,sBAAAA,MAAA,MAAA,SAAA,sCAAc,SAAS,CAAC;AACxBA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO,EAAE,WAAW;AAAA,UACpB,MAAM;AAAA,SACN;AAAA,MACF;AAAA,IACD;AAAA,EACD;AACD;;;;;;;;;;;;;;;;;;;ACvKA,GAAG,WAAW,eAAe;"}