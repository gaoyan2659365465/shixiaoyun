{"version":3,"file":"CouponCard.js","sources":["pages/coupon/components/CouponCard.vue","E:/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/QzovVXNlcnMvMjY1OTMvRG9jdW1lbnRzL0hCdWlsZGVyUHJvamVjdHMvc2hpeGlhb3l1bi9wYWdlcy9jb3Vwb24vY29tcG9uZW50cy9Db3Vwb25DYXJkLnZ1ZQ"],"sourcesContent":["<template>\r\n  <view class=\"coupon-card\" :class=\"[statusClass]\">\r\n    <!-- 左侧金额区域 -->\r\n    <view class=\"coupon-left\">\r\n      <view class=\"amount-wrapper\">\r\n        <text class=\"currency\">¥</text>\r\n        <text class=\"amount\">{{ displayAmount }}</text>\r\n      </view>\r\n      <text v-if=\"coupon.type === 'discount'\" class=\"discount-label\">折扣券</text>\r\n      <text v-else-if=\"coupon.type === 'exchange'\" class=\"exchange-label\">兑换券</text>\r\n    </view>\r\n    \r\n    <!-- 右侧信息区域 -->\r\n    <view class=\"coupon-right\">\r\n      <view class=\"coupon-info\">\r\n        <text class=\"coupon-name\">{{ coupon.name }}</text>\r\n        <text class=\"coupon-condition\">{{ coupon.condition }}</text>\r\n        <text class=\"coupon-date\">有效期：{{ coupon.validDate }}</text>\r\n      </view>\r\n      \r\n      <!-- 卡号密码区域 -->\r\n      <view class=\"card-info\">\r\n        <view class=\"card-item\">\r\n          <text class=\"card-label\">卡号：</text>\r\n          <text class=\"card-value\">{{ coupon.cardNumber }}</text>\r\n          <text class=\"copy-btn\" @click.stop=\"handleCopy(coupon.cardNumber, '卡号')\">复制</text>\r\n        </view>\r\n        <view class=\"card-item\">\r\n          <text class=\"card-label\">密码：</text>\r\n          <text class=\"card-value\">{{ coupon.cardSecret }}</text>\r\n          <text class=\"copy-btn\" @click.stop=\"handleCopy(coupon.cardSecret, '密码')\">复制</text>\r\n        </view>\r\n      </view>\r\n      \r\n      <!-- 操作按钮 -->\r\n      <view class=\"coupon-action\">\r\n        <button \r\n          v-if=\"coupon.status === 'unused'\" \r\n          class=\"use-btn\"\r\n          @click.stop=\"handleUse\"\r\n        >\r\n          立即使用\r\n        </button>\r\n        <view v-else-if=\"coupon.status === 'used'\" class=\"status-tag used\">已使用</view>\r\n        <view v-else-if=\"coupon.status === 'expired'\" class=\"status-tag expired\">已过期</view>\r\n      </view>\r\n    </view>\r\n    \r\n    <!-- 状态遮罩 -->\r\n    <view v-if=\"coupon.status !== 'unused'\" class=\"status-mask\"></view>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'CouponCard',\r\n  props: {\r\n    // 卡券数据\r\n    coupon: {\r\n      type: Object,\r\n      required: true\r\n    }\r\n  },\r\n  computed: {\r\n    /**\r\n     * 显示金额\r\n     */\r\n    displayAmount() {\r\n      if (this.coupon.type === 'discount') {\r\n        return this.coupon.amount;\r\n      }\r\n      return this.coupon.amount;\r\n    },\r\n    \r\n    /**\r\n     * 状态样式类\r\n     */\r\n    statusClass() {\r\n      return `status-${this.coupon.status}`;\r\n    }\r\n  },\r\n  methods: {\r\n    /**\r\n     * 复制文本到剪贴板\r\n     * @param {string} text - 要复制的文本\r\n     * @param {string} label - 文本标签（用于提示）\r\n     */\r\n    handleCopy(text, label) {\r\n      uni.setClipboardData({\r\n        data: text,\r\n        success: () => {\r\n          uni.showToast({\r\n            title: `${label}已复制`,\r\n            icon: 'success',\r\n            duration: 2000\r\n          });\r\n        },\r\n        fail: () => {\r\n          uni.showToast({\r\n            title: '复制失败',\r\n            icon: 'none',\r\n            duration: 2000\r\n          });\r\n        }\r\n      });\r\n    },\r\n    \r\n    /**\r\n     * 使用卡券\r\n     */\r\n    handleUse() {\r\n      this.$emit('use', this.coupon);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.coupon-card {\r\n  position: relative;\r\n  display: flex;\r\n  margin: 0 30rpx 24rpx;\r\n  background: linear-gradient(135deg, #FF6B35 0%, #FF8C5A 100%);\r\n  border-radius: 16rpx;\r\n  overflow: hidden;\r\n  box-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.08);\r\n  \r\n  // 未使用状态\r\n  &.status-unused {\r\n    background: linear-gradient(135deg, #FF6B35 0%, #FF8C5A 100%);\r\n  }\r\n  \r\n  // 已使用状态\r\n  &.status-used {\r\n    background: linear-gradient(135deg, #CCCCCC 0%, #E5E5E5 100%);\r\n    \r\n    .coupon-name,\r\n    .coupon-condition,\r\n    .coupon-date,\r\n    .card-label,\r\n    .card-value {\r\n      color: #999999;\r\n    }\r\n    \r\n    .amount,\r\n    .currency {\r\n      color: #CCCCCC;\r\n    }\r\n  }\r\n  \r\n  // 已过期状态\r\n  &.status-expired {\r\n    background: linear-gradient(135deg, #999999 0%, #BBBBBB 100%);\r\n    \r\n    .coupon-name,\r\n    .coupon-condition,\r\n    .coupon-date,\r\n    .card-label,\r\n    .card-value {\r\n      color: #CCCCCC;\r\n    }\r\n    \r\n    .amount,\r\n    .currency {\r\n      color: #E5E5E5;\r\n    }\r\n  }\r\n  \r\n  // 左侧金额区域\r\n  .coupon-left {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n    width: 220rpx;\r\n    padding: 30rpx 20rpx;\r\n    background: rgba(255, 255, 255, 0.1);\r\n    \r\n    .amount-wrapper {\r\n      display: flex;\r\n      align-items: baseline;\r\n      margin-bottom: 8rpx;\r\n      \r\n      .currency {\r\n        font-size: 32rpx;\r\n        color: #FFFFFF;\r\n        font-weight: bold;\r\n        margin-right: 4rpx;\r\n      }\r\n      \r\n      .amount {\r\n        font-size: 56rpx;\r\n        color: #FFFFFF;\r\n        font-weight: bold;\r\n        line-height: 1;\r\n      }\r\n    }\r\n    \r\n    .discount-label,\r\n    .exchange-label {\r\n      font-size: 24rpx;\r\n      color: #FFFFFF;\r\n      opacity: 0.9;\r\n    }\r\n  }\r\n  \r\n  // 右侧信息区域\r\n  .coupon-right {\r\n    flex: 1;\r\n    display: flex;\r\n    flex-direction: column;\r\n    padding: 30rpx;\r\n    background: #FFFFFF;\r\n    \r\n    .coupon-info {\r\n      flex: 1;\r\n      margin-bottom: 20rpx;\r\n      \r\n      .coupon-name {\r\n        display: block;\r\n        font-size: 32rpx;\r\n        color: #333333;\r\n        font-weight: bold;\r\n        margin-bottom: 12rpx;\r\n        line-height: 1.4;\r\n      }\r\n      \r\n      .coupon-condition {\r\n        display: block;\r\n        font-size: 28rpx;\r\n        color: #666666;\r\n        margin-bottom: 8rpx;\r\n        line-height: 1.4;\r\n      }\r\n      \r\n      .coupon-date {\r\n        display: block;\r\n        font-size: 24rpx;\r\n        color: #999999;\r\n        line-height: 1.4;\r\n      }\r\n    }\r\n    \r\n    // 卡号密码区域\r\n    .card-info {\r\n      margin-bottom: 20rpx;\r\n      padding: 20rpx;\r\n      background: #F5F5F5;\r\n      border-radius: 8rpx;\r\n      \r\n      .card-item {\r\n        display: flex;\r\n        align-items: center;\r\n        margin-bottom: 12rpx;\r\n        \r\n        &:last-child {\r\n          margin-bottom: 0;\r\n        }\r\n        \r\n        .card-label {\r\n          font-size: 24rpx;\r\n          color: #666666;\r\n          min-width: 80rpx;\r\n        }\r\n        \r\n        .card-value {\r\n          flex: 1;\r\n          font-size: 24rpx;\r\n          color: #333333;\r\n          font-family: 'Courier New', monospace;\r\n          letter-spacing: 2rpx;\r\n        }\r\n        \r\n        .copy-btn {\r\n          font-size: 24rpx;\r\n          color: #FF6B35;\r\n          padding: 8rpx 16rpx;\r\n          background: #FFF5F2;\r\n          border-radius: 4rpx;\r\n          margin-left: 16rpx;\r\n        }\r\n      }\r\n    }\r\n    \r\n    // 操作按钮区域\r\n    .coupon-action {\r\n      .use-btn {\r\n        width: 100%;\r\n        height: 72rpx;\r\n        line-height: 72rpx;\r\n        background: #FF6B35;\r\n        color: #FFFFFF;\r\n        font-size: 28rpx;\r\n        font-weight: bold;\r\n        border-radius: 36rpx;\r\n        border: none;\r\n        \r\n        &::after {\r\n          border: none;\r\n        }\r\n        \r\n        &:active {\r\n          opacity: 0.8;\r\n        }\r\n      }\r\n      \r\n      .status-tag {\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        height: 72rpx;\r\n        font-size: 28rpx;\r\n        font-weight: bold;\r\n        border-radius: 36rpx;\r\n        \r\n        &.used {\r\n          background: #F5F5F5;\r\n          color: #999999;\r\n        }\r\n        \r\n        &.expired {\r\n          background: #FFF5F5;\r\n          color: #FF4444;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  \r\n  // 状态遮罩\r\n  .status-mask {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    background: rgba(255, 255, 255, 0.3);\r\n    pointer-events: none;\r\n  }\r\n}\r\n</style>","import Component from 'C:/Users/26593/Documents/HBuilderProjects/shixiaoyun/pages/coupon/components/CouponCard.vue'\nwx.createComponent(Component)"],"names":["uni"],"mappings":";;AAsDA,MAAK,YAAU;AAAA,EACb,MAAM;AAAA,EACN,OAAO;AAAA;AAAA,IAEL,QAAQ;AAAA,MACN,MAAM;AAAA,MACN,UAAU;AAAA,IACZ;AAAA,EACD;AAAA,EACD,UAAU;AAAA;AAAA;AAAA;AAAA,IAIR,gBAAgB;AACd,UAAI,KAAK,OAAO,SAAS,YAAY;AACnC,eAAO,KAAK,OAAO;AAAA,MACrB;AACA,aAAO,KAAK,OAAO;AAAA,IACpB;AAAA;AAAA;AAAA;AAAA,IAKD,cAAc;AACZ,aAAO,UAAU,KAAK,OAAO,MAAM;AAAA,IACrC;AAAA,EACD;AAAA,EACD,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAMP,WAAW,MAAM,OAAO;AACtBA,oBAAAA,MAAI,iBAAiB;AAAA,QACnB,MAAM;AAAA,QACN,SAAS,MAAM;AACbA,wBAAAA,MAAI,UAAU;AAAA,YACZ,OAAO,GAAG,KAAK;AAAA,YACf,MAAM;AAAA,YACN,UAAU;AAAA,UACZ,CAAC;AAAA,QACF;AAAA,QACD,MAAM,MAAM;AACVA,wBAAAA,MAAI,UAAU;AAAA,YACZ,OAAO;AAAA,YACP,MAAM;AAAA,YACN,UAAU;AAAA,UACZ,CAAC;AAAA,QACH;AAAA,MACF,CAAC;AAAA,IACF;AAAA;AAAA;AAAA;AAAA,IAKD,YAAY;AACV,WAAK,MAAM,OAAO,KAAK,MAAM;AAAA,IAC/B;AAAA,EACF;AACF;;;;;;;;;;;;;;;;;;;;;;;;;;ACjHA,GAAG,gBAAgB,SAAS;"}