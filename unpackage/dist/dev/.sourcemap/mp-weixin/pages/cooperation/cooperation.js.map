{"version":3,"file":"cooperation.js","sources":["pages/cooperation/cooperation.vue","E:/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvY29vcGVyYXRpb24vY29vcGVyYXRpb24udnVl"],"sourcesContent":["<template>\r\n\t<view class=\"cooperation-page\">\r\n\t\t<!-- 顶部标题 -->\r\n\t\t<view class=\"header\">\r\n\t\t\t<text class=\"title\">合作伙伴</text>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 筛选区域 -->\r\n\t\t<view class=\"filter-section\">\r\n\t\t\t<view class=\"filter-tags\">\r\n\t\t\t\t<view \r\n\t\t\t\t\tv-for=\"(filter, index) in filters\" \r\n\t\t\t\t\t:key=\"index\"\r\n\t\t\t\t\tclass=\"filter-tag\"\r\n\t\t\t\t\t:class=\"{ active: filter.active }\"\r\n\t\t\t\t\t@click=\"toggleFilter(index)\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<text class=\"filter-text\">{{ filter.label }}</text>\r\n\t\t\t\t\t<text class=\"filter-icon\">{{ filter.active ? '✓' : '▼' }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"search-box\">\r\n\t\t\t\t\t<input \r\n\t\t\t\t\t\ttype=\"text\" \r\n\t\t\t\t\t\tplaceholder=\"搜索...\" \r\n\t\t\t\t\t\tv-model=\"searchKeyword\"\r\n\t\t\t\t\t\t@input=\"handleSearch\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 合作伙伴列表 -->\r\n\t\t<view class=\"partner-list\">\r\n\t\t\t<view \r\n\t\t\t\tv-for=\"partner in filteredPartners\" \r\n\t\t\t\t:key=\"partner.id\"\r\n\t\t\t\tclass=\"partner-item\"\r\n\t\t\t>\r\n\t\t\t\t<!-- 左侧Logo -->\r\n\t\t\t\t<view class=\"partner-logo\">\r\n\t\t\t\t\t<image \r\n\t\t\t\t\t\tv-if=\"partner.logo\" \r\n\t\t\t\t\t\t:src=\"partner.logo\" \r\n\t\t\t\t\t\tmode=\"aspectFill\"\r\n\t\t\t\t\t></image>\r\n\t\t\t\t\t<view v-else class=\"logo-placeholder\"></view>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<!-- 中间信息区域 -->\r\n\t\t\t\t<view class=\"partner-info\">\r\n\t\t\t\t\t<text class=\"partner-name\">{{ partner.name }}</text>\r\n\t\t\t\t\t<view class=\"partner-location\">\r\n\t\t\t\t\t\t<text class=\"location-label\">地址</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"partner-tags\">\r\n\t\t\t\t\t\t<view \r\n\t\t\t\t\t\t\tv-for=\"(tag, tagIndex) in partner.tags\" \r\n\t\t\t\t\t\t\t:key=\"tagIndex\"\r\n\t\t\t\t\t\t\tclass=\"tag\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<text class=\"tag-text\">{{ tag }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<!-- 右侧联系按钮 -->\r\n\t\t\t\t<view class=\"contact-btn\" @click=\"handleContact(partner)\">\r\n\t\t\t\t\t<text class=\"contact-text\">联系我们</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nimport { getAllPartners, searchPartners, getFilterConfig } from '@/data/partners.js';\r\n\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\t// 筛选条件\r\n\t\t\tfilters: [\r\n\t\t\t\t{ label: '杭州市', active: false, key: 'city' },\r\n\t\t\t\t{ label: '客户类型', active: false, key: 'type' },\r\n\t\t\t\t{ label: '门店服务', active: false, key: 'service' }\r\n\t\t\t],\r\n\t\t\t// 搜索关键词\r\n\t\t\tsearchKeyword: '',\r\n\t\t\t// 合作伙伴数据\r\n\t\t\tpartners: [],\r\n\t\t\t// 加载状态\r\n\t\t\tloading: false\r\n\t\t};\r\n\t},\r\n\t\r\n\t// 页面加载时获取数据\r\n\tonLoad() {\r\n\t\tthis.loadPartners();\r\n\t},\r\n\tcomputed: {\r\n\t\t// 过滤后的合作伙伴列表\r\n\t\tfilteredPartners() {\r\n\t\t\tlet result = this.partners;\r\n\t\t\t\r\n\t\t\t// 根据搜索关键词过滤\r\n\t\t\tif (this.searchKeyword) {\r\n\t\t\t\tconst keyword = this.searchKeyword.toLowerCase();\r\n\t\t\t\tresult = result.filter(partner => \r\n\t\t\t\t\tpartner.name.toLowerCase().includes(keyword) ||\r\n\t\t\t\t\tpartner.location.toLowerCase().includes(keyword) ||\r\n\t\t\t\t\tpartner.tags.some(tag => tag.toLowerCase().includes(keyword))\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn result;\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\t/**\r\n\t\t * 加载合作伙伴数据\r\n\t\t */\r\n\t\tasync loadPartners() {\r\n\t\t\ttry {\r\n\t\t\t\tthis.loading = true;\r\n\t\t\t\t// 从数据模块获取数据\r\n\t\t\t\tconst data = await getAllPartners();\r\n\t\t\t\tthis.partners = data;\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error('加载合作伙伴数据失败:', error);\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '加载失败',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t});\r\n\t\t\t} finally {\r\n\t\t\t\tthis.loading = false;\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t/**\r\n\t\t * 切换筛选条件\r\n\t\t */\r\n\t\ttoggleFilter(index) {\r\n\t\t\tthis.filters[index].active = !this.filters[index].active;\r\n\t\t\tconsole.log('筛选条件变更:', this.filters[index]);\r\n\t\t\t// 可以在这里添加实际的筛选逻辑\r\n\t\t\t// 例如：this.applyFilters();\r\n\t\t},\r\n\t\t\r\n\t\t/**\r\n\t\t * 处理搜索\r\n\t\t */\r\n\t\tasync handleSearch() {\r\n\t\t\tif (!this.searchKeyword.trim()) {\r\n\t\t\t\t// 如果搜索关键词为空，重新加载所有数据\r\n\t\t\t\tawait this.loadPartners();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\tthis.loading = true;\r\n\t\t\t\t// 使用搜索功能\r\n\t\t\t\tconst results = await searchPartners(this.searchKeyword);\r\n\t\t\t\tthis.partners = results;\r\n\t\t\t\t\r\n\t\t\t\tif (results.length === 0) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '未找到相关合作伙伴',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error('搜索失败:', error);\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '搜索失败',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t});\r\n\t\t\t} finally {\r\n\t\t\t\tthis.loading = false;\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t/**\r\n\t\t * 处理合作伙伴点击\r\n\t\t */\r\n\t\thandlePartnerClick(partner) {\r\n\t\t\tconsole.log('点击合作伙伴:', partner);\r\n\t\t\t// 可以跳转到详情页\r\n\t\t\t// uni.navigateTo({\r\n\t\t\t//     url: `/pages/partner-detail/partner-detail?id=${partner.id}`\r\n\t\t\t// });\r\n\t\t},\r\n\t\t\r\n\t\t/**\r\n\t\t * 处理联系按钮点击\r\n\t\t */\r\n\t\thandleContact(partner) {\r\n\t\t\tuni.showModal({\r\n\t\t\t\ttitle: '联系我们',\r\n\t\t\t\tcontent: `您正在联系：${partner.name}\\n\\n电话：${partner.phone || '暂无'}\\n邮箱：${partner.email || '暂无'}`,\r\n\t\t\t\tconfirmText: '拨打电话',\r\n\t\t\t\tcancelText: '取消',\r\n\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\tif (res.confirm && partner.phone) {\r\n\t\t\t\t\t\t// 拨打电话\r\n\t\t\t\t\t\tuni.makePhoneCall({\r\n\t\t\t\t\t\t\tphoneNumber: partner.phone,\r\n\t\t\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\t\t\tconsole.error('拨打电话失败:', err);\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: '拨打失败',\r\n\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.cooperation-page {\r\n\tmin-height: 100vh;\r\n\tbackground-color: #f5f5f5;\r\n\tpadding-bottom: 20rpx;\r\n}\r\n\r\n/* 顶部标题 */\r\n.header {\r\n\tbackground-color: #ffffff;\r\n\tpadding: 30rpx 32rpx 20rpx;\r\n\t\r\n\t.title {\r\n\t\tfont-size: 40rpx;\r\n\t\tfont-weight: 600;\r\n\t\tcolor: #000000;\r\n\t}\r\n}\r\n\r\n/* 筛选区域 */\r\n.filter-section {\r\n\tbackground-color: #ffffff;\r\n\tpadding: 20rpx 32rpx;\r\n\tmargin-bottom: 20rpx;\r\n\t\r\n\t.filter-tags {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tflex-wrap: wrap;\r\n\t\tgap: 20rpx;\r\n\t}\r\n\t\r\n\t.filter-tag {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tpadding: 12rpx 24rpx;\r\n\t\tbackground-color: #f5f5f5;\r\n\t\tborder-radius: 8rpx;\r\n\t\ttransition: all 0.3s;\r\n\t\t\r\n\t\t&.active {\r\n\t\t\tbackground-color: #333333;\r\n\t\t\t\r\n\t\t\t.filter-text {\r\n\t\t\t\tcolor: #ffffff;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t.filter-icon {\r\n\t\t\t\tcolor: #ffffff;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t.filter-text {\r\n\t\t\tfont-size: 28rpx;\r\n\t\t\tcolor: #333333;\r\n\t\t\tmargin-right: 8rpx;\r\n\t\t}\r\n\t\t\r\n\t\t.filter-icon {\r\n\t\t\tfont-size: 20rpx;\r\n\t\t\tcolor: #999999;\r\n\t\t}\r\n\t}\r\n\t\r\n\t.search-box {\r\n\t\tflex: 1;\r\n\t\tmin-width: 200rpx;\r\n\t\t\r\n\t\tinput {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 60rpx;\r\n\t\t\tpadding: 0 24rpx;\r\n\t\t\tbackground-color: #f5f5f5;\r\n\t\t\tborder-radius: 8rpx;\r\n\t\t\tfont-size: 28rpx;\r\n\t\t\tcolor: #333333;\r\n\t\t\t\r\n\t\t\t&::placeholder {\r\n\t\t\t\tcolor: #999999;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/* 合作伙伴列表 */\r\n.partner-list {\r\n\tpadding: 0 32rpx;\r\n}\r\n\r\n.partner-item {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tbackground-color: #ffffff;\r\n\tborder-radius: 16rpx;\r\n\tpadding: 32rpx;\r\n\tmargin-bottom: 24rpx;\r\n\ttransition: all 0.3s;\r\n\t\r\n\t&:active {\r\n\t\ttransform: scale(0.98);\r\n\t\topacity: 0.9;\r\n\t}\r\n}\r\n\r\n/* 左侧Logo */\r\n.partner-logo {\r\n\twidth: 160rpx;\r\n\theight: 160rpx;\r\n\tmargin-right: 24rpx;\r\n\tflex-shrink: 0;\r\n\t\r\n\timage {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tborder-radius: 12rpx;\r\n\t}\r\n\t\r\n\t.logo-placeholder {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tbackground-color: #e5e5e5;\r\n\t\tborder-radius: 12rpx;\r\n\t}\r\n}\r\n\r\n/* 中间信息区域 */\r\n.partner-info {\r\n\tflex: 1;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tgap: 16rpx;\r\n\tmin-width: 0;\r\n}\r\n\r\n.partner-name {\r\n\tfont-size: 32rpx;\r\n\tfont-weight: 600;\r\n\tcolor: #000000;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n\twhite-space: nowrap;\r\n}\r\n\r\n.partner-location {\r\n\t.location-label {\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #666666;\r\n\t}\r\n}\r\n\r\n.partner-tags {\r\n\tdisplay: flex;\r\n\tgap: 16rpx;\r\n\tflex-wrap: wrap;\r\n}\r\n\r\n.tag {\r\n\tpadding: 8rpx 20rpx;\r\n\tbackground-color: #f5f5f5;\r\n\tborder-radius: 6rpx;\r\n\t\r\n\t.tag-text {\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #666666;\r\n\t}\r\n}\r\n\r\n/* 右侧联系按钮 */\r\n.contact-btn {\r\n\tpadding: 20rpx 32rpx;\r\n\tbackground-color: #333333;\r\n\tborder-radius: 8rpx;\r\n\tmargin-left: 24rpx;\r\n\tflex-shrink: 0;\r\n\ttransition: all 0.3s;\r\n\t\r\n\t&:active {\r\n\t\tbackground-color: #000000;\r\n\t\ttransform: scale(0.95);\r\n\t}\r\n\t\r\n\t.contact-text {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #ffffff;\r\n\t\twhite-space: nowrap;\r\n\t}\r\n}\r\n\r\n/* 响应式适配 */\r\n@media screen and (max-width: 750rpx) {\r\n\t.partner-item {\r\n\t\tflex-wrap: wrap;\r\n\t}\r\n\t\r\n\t.contact-btn {\r\n\t\tmargin-left: 0;\r\n\t\tmargin-top: 20rpx;\r\n\t\twidth: 100%;\r\n\t\ttext-align: center;\r\n\t}\r\n}\r\n</style>","import MiniProgramPage from 'C:/Users/26593/Documents/HBuilderProjects/shixiaoyun/pages/cooperation/cooperation.vue'\nwx.createPage(MiniProgramPage)"],"names":["getAllPartners","uni","searchPartners"],"mappings":"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"}