{"version":3,"file":"FilterBar.js","sources":["pages/points/components/FilterBar.vue","E:/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/QzovVXNlcnMvMjY1OTMvRG9jdW1lbnRzL0hCdWlsZGVyUHJvamVjdHMvc2hpeGlhb3l1bi9wYWdlcy9wb2ludHMvY29tcG9uZW50cy9GaWx0ZXJCYXIudnVl"],"sourcesContent":["<template>\r\n\t<view class=\"filter-bar\">\r\n\t\t<!-- Filter 按钮 -->\r\n\t\t<picker\r\n\t\t\tmode=\"selector\"\r\n\t\t\t:range=\"filterOptions\"\r\n\t\t\trange-key=\"label\"\r\n\t\t\t:value=\"filterIndex\"\r\n\t\t\t@change=\"onFilterChange\"\r\n\t\t>\r\n\t\t\t<view class=\"filter-btn\">\r\n\t\t\t\t<text class=\"btn-text\">{{ currentFilterLabel }}</text>\r\n\t\t\t\t<text class=\"arrow\">▼</text>\r\n\t\t\t</view>\r\n\t\t</picker>\r\n\r\n\t\t<!-- Sort 按钮 -->\r\n\t\t<picker\r\n\t\t\tmode=\"selector\"\r\n\t\t\t:range=\"sortOptions\"\r\n\t\t\trange-key=\"label\"\r\n\t\t\t:value=\"sortIndex\"\r\n\t\t\t@change=\"onSortChange\"\r\n\t\t>\r\n\t\t\t<view class=\"sort-btn\">\r\n\t\t\t\t<text class=\"btn-text\">{{ currentSortLabel }}</text>\r\n\t\t\t\t<text class=\"arrow\">▼</text>\r\n\t\t\t</view>\r\n\t\t</picker>\r\n\r\n\t\t<!-- 结果数量 -->\r\n\t\t<view class=\"result-count\">\r\n\t\t\t<text class=\"count-text\">{{ resultCount }} 个结果</text>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tname: 'FilterBar',\r\n\r\n\tprops: {\r\n\t\tfilterOptions: {\r\n\t\t\ttype: Array,\r\n\t\t\tdefault: () => []\r\n\t\t},\r\n\t\tsortOptions: {\r\n\t\t\ttype: Array,\r\n\t\t\tdefault: () => []\r\n\t\t},\r\n\t\tresultCount: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 0\r\n\t\t},\r\n\t\tdefaultFilter: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: 'all'\r\n\t\t},\r\n\t\tdefaultSort: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: 'default'\r\n\t\t}\r\n\t},\r\n\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tcurrentFilter: this.defaultFilter,\r\n\t\t\tcurrentSort: this.defaultSort\r\n\t\t}\r\n\t},\r\n\r\n\tcomputed: {\r\n\t\t// 当前筛选项的索引\r\n\t\tfilterIndex() {\r\n\t\t\tconst index = this.filterOptions.findIndex(opt => opt.value === this.currentFilter)\r\n\t\t\treturn index >= 0 ? index : 0\r\n\t\t},\r\n\r\n\t\t// 当前排序项的索引\r\n\t\tsortIndex() {\r\n\t\t\tconst index = this.sortOptions.findIndex(opt => opt.value === this.currentSort)\r\n\t\t\treturn index >= 0 ? index : 0\r\n\t\t},\r\n\r\n\t\t// 当前筛选项的标签\r\n\t\tcurrentFilterLabel() {\r\n\t\t\tconst option = this.filterOptions.find(opt => opt.value === this.currentFilter)\r\n\t\t\treturn option ? option.label : '筛选'\r\n\t\t},\r\n\r\n\t\t// 当前排序项的标签\r\n\t\tcurrentSortLabel() {\r\n\t\t\tconst option = this.sortOptions.find(opt => opt.value === this.currentSort)\r\n\t\t\treturn option ? option.label : '排序'\r\n\t\t}\r\n\t},\r\n\r\n\tmethods: {\r\n\t\t// 筛选项改变\r\n\t\tonFilterChange(e) {\r\n\t\t\tconst index = e.detail.value\r\n\t\t\tconst option = this.filterOptions[index]\r\n\t\t\tif (option) {\r\n\t\t\t\tthis.currentFilter = option.value\r\n\t\t\t\tthis.$emit('filter', option.value)\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// 排序项改变\r\n\t\tonSortChange(e) {\r\n\t\t\tconst index = e.detail.value\r\n\t\t\tconst option = this.sortOptions[index]\r\n\t\t\tif (option) {\r\n\t\t\t\tthis.currentSort = option.value\r\n\t\t\t\tthis.$emit('sort', option.value)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '@/styles/variables.scss';\r\n\r\n.filter-bar {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tgap: $spacing-2;\r\n\tpadding: $spacing-3 $spacing-4;\r\n\tbackground-color: $card-bg;\r\n}\r\n\r\n.filter-btn,\r\n.sort-btn {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tgap: $spacing-1;\r\n\tpadding: $spacing-1 $spacing-2;\r\n\tborder: 1px solid $border-color;\r\n\tborder-radius: $radius-small;\r\n\r\n\t&:active {\r\n\t\topacity: 0.7;\r\n\t\tbackground-color: $bg-color;\r\n\t}\r\n}\r\n\r\n.btn-text {\r\n\tfont-size: $font-t4;\r\n\tcolor: $text-title;\r\n\tline-height: $line-height-t4;\r\n}\r\n\r\n.arrow {\r\n\tfont-size: $font-t5;\r\n\tcolor: $text-secondary;\r\n\tline-height: $line-height-t5;\r\n}\r\n\r\n.result-count {\r\n\tflex: 1;\r\n\ttext-align: right;\r\n}\r\n\r\n.count-text {\r\n\tfont-size: $font-t4;\r\n\tcolor: $text-secondary;\r\n\tline-height: $line-height-t4;\r\n}\r\n</style>","import Component from 'C:/Users/26593/Documents/HBuilderProjects/shixiaoyun/pages/points/components/FilterBar.vue'\nwx.createComponent(Component)"],"names":[],"mappings":";;AAsCA,MAAK,YAAU;AAAA,EACd,MAAM;AAAA,EAEN,OAAO;AAAA,IACN,eAAe;AAAA,MACd,MAAM;AAAA,MACN,SAAS,MAAM,CAAC;AAAA,IAChB;AAAA,IACD,aAAa;AAAA,MACZ,MAAM;AAAA,MACN,SAAS,MAAM,CAAC;AAAA,IAChB;AAAA,IACD,aAAa;AAAA,MACZ,MAAM;AAAA,MACN,SAAS;AAAA,IACT;AAAA,IACD,eAAe;AAAA,MACd,MAAM;AAAA,MACN,SAAS;AAAA,IACT;AAAA,IACD,aAAa;AAAA,MACZ,MAAM;AAAA,MACN,SAAS;AAAA,IACV;AAAA,EACA;AAAA,EAED,OAAO;AACN,WAAO;AAAA,MACN,eAAe,KAAK;AAAA,MACpB,aAAa,KAAK;AAAA,IACnB;AAAA,EACA;AAAA,EAED,UAAU;AAAA;AAAA,IAET,cAAc;AACb,YAAM,QAAQ,KAAK,cAAc,UAAU,SAAO,IAAI,UAAU,KAAK,aAAa;AAClF,aAAO,SAAS,IAAI,QAAQ;AAAA,IAC5B;AAAA;AAAA,IAGD,YAAY;AACX,YAAM,QAAQ,KAAK,YAAY,UAAU,SAAO,IAAI,UAAU,KAAK,WAAW;AAC9E,aAAO,SAAS,IAAI,QAAQ;AAAA,IAC5B;AAAA;AAAA,IAGD,qBAAqB;AACpB,YAAM,SAAS,KAAK,cAAc,KAAK,SAAO,IAAI,UAAU,KAAK,aAAa;AAC9E,aAAO,SAAS,OAAO,QAAQ;AAAA,IAC/B;AAAA;AAAA,IAGD,mBAAmB;AAClB,YAAM,SAAS,KAAK,YAAY,KAAK,SAAO,IAAI,UAAU,KAAK,WAAW;AAC1E,aAAO,SAAS,OAAO,QAAQ;AAAA,IAChC;AAAA,EACA;AAAA,EAED,SAAS;AAAA;AAAA,IAER,eAAe,GAAG;AACjB,YAAM,QAAQ,EAAE,OAAO;AACvB,YAAM,SAAS,KAAK,cAAc,KAAK;AACvC,UAAI,QAAQ;AACX,aAAK,gBAAgB,OAAO;AAC5B,aAAK,MAAM,UAAU,OAAO,KAAK;AAAA,MAClC;AAAA,IACA;AAAA;AAAA,IAGD,aAAa,GAAG;AACf,YAAM,QAAQ,EAAE,OAAO;AACvB,YAAM,SAAS,KAAK,YAAY,KAAK;AACrC,UAAI,QAAQ;AACX,aAAK,cAAc,OAAO;AAC1B,aAAK,MAAM,QAAQ,OAAO,KAAK;AAAA,MAChC;AAAA,IACD;AAAA,EACD;AACD;;;;;;;;;;;;;;;ACrHA,GAAG,gBAAgB,SAAS;"}