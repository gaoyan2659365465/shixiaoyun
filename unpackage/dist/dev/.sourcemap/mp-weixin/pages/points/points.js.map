{"version":3,"file":"points.js","sources":["pages/points/points.vue","E:/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvcG9pbnRzL3BvaW50cy52dWU"],"sourcesContent":["<template>\r\n\t<view class=\"points-page\">\r\n\t\t<!-- 用户积分卡片 -->\r\n\t\t<UserPointsCard\r\n\t\t\t:user-name=\"userName\"\r\n\t\t\t:points=\"userPoints\"\r\n\t\t\t@detail=\"handlePointsDetail\"\r\n\t\t\t@coupon=\"handleCouponCenter\"\r\n\t\t\t@withdraw=\"handleWithdraw\"\r\n\t\t/>\r\n\r\n\t\t<!-- 筛选排序栏 -->\r\n\t\t<FilterBar\r\n\t\t\t:filter-options=\"filterOptions\"\r\n\t\t\t:sort-options=\"sortOptions\"\r\n\t\t\t:result-count=\"filteredProducts.length\"\r\n\t\t\t@filter=\"handleFilter\"\r\n\t\t\t@sort=\"handleSort\"\r\n\t\t/>\r\n\r\n\t\t<!-- 商品网格 -->\r\n\t\t<view class=\"products-grid\">\r\n\t\t\t<PointsProductCard\r\n\t\t\t\tv-for=\"product in displayProducts\"\r\n\t\t\t\t:key=\"product.id\"\r\n\t\t\t\t:product=\"product\"\r\n\t\t\t\t@click=\"handleProductDetail\"\r\n\t\t\t\t@exchange=\"handleExchange\"\r\n\t\t\t/>\r\n\t\t</view>\r\n\r\n\t\t<!-- 加载更多 -->\r\n\t\t<view v-if=\"hasMore && !loading\" class=\"load-more\" @click=\"loadMore\">\r\n\t\t\t<text class=\"load-more-text\">加载更多</text>\r\n\t\t</view>\r\n\r\n\t\t<!-- 加载中 -->\r\n\t\t<view v-if=\"loading\" class=\"loading\">\r\n\t\t\t<uni-load-more status=\"loading\"></uni-load-more>\r\n\t\t</view>\r\n\r\n\t\t<!-- 没有更多 -->\r\n\t\t<view v-else-if=\"!hasMore && displayProducts.length > 0\" class=\"no-more\">\r\n\t\t\t<text class=\"no-more-text\">没有更多了</text>\r\n\t\t</view>\r\n\r\n\t\t<!-- 空状态 -->\r\n\t\t<view v-if=\"!loading && displayProducts.length === 0\" class=\"empty-state\">\r\n\t\t\t<text class=\"empty-text\">暂无商品</text>\r\n\t\t</view>\r\n\r\n\t\t<!-- 提现弹窗 -->\r\n\t\t<view v-if=\"showWithdrawModal\" class=\"withdraw-modal-overlay\" @tap=\"closeWithdrawModal\">\r\n\t\t\t<view class=\"withdraw-modal-content\" @tap.stop>\r\n\t\t\t\t<view class=\"withdraw-modal-header\">\r\n\t\t\t\t\t<text class=\"withdraw-modal-title\">提现到钱包</text>\r\n\t\t\t\t\t<text class=\"withdraw-modal-close\" @tap=\"closeWithdrawModal\">×</text>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<view class=\"withdraw-modal-body\">\r\n\t\t\t\t\t<view class=\"withdraw-info\">\r\n\t\t\t\t\t\t<text class=\"withdraw-info-label\">当前可用积分</text>\r\n\t\t\t\t\t\t<text class=\"withdraw-info-value\">{{ userPoints }}分</text>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view class=\"withdraw-input-section\">\r\n\t\t\t\t\t\t<text class=\"withdraw-input-label\">提现积分</text>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclass=\"withdraw-input\"\r\n\t\t\t\t\t\t\tv-model=\"withdrawPoints\"\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tplaceholder=\"请输入要提现的积分数量\"\r\n\t\t\t\t\t\t\t@input=\"calculateAmount\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view class=\"withdraw-exchange-rate\">\r\n\t\t\t\t\t\t<text class=\"exchange-rate-text\">兑换比例：100积分 = 1元</text>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view class=\"withdraw-amount-section\">\r\n\t\t\t\t\t\t<text class=\"withdraw-amount-label\">到账金额</text>\r\n\t\t\t\t\t\t<text class=\"withdraw-amount-value\">¥{{ withdrawAmount }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<view class=\"withdraw-modal-footer\">\r\n\t\t\t\t\t<button class=\"withdraw-modal-btn cancel-btn\" @tap=\"closeWithdrawModal\">取消</button>\r\n\t\t\t\t\t<button class=\"withdraw-modal-btn confirm-btn\" @tap=\"confirmWithdrawStep\">确认提现</button>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nimport { getUserPoints, getPointsProducts, exchangeProduct } from '@/api/points'\r\nimport { pointsData } from '@/data/points'\r\nimport UserPointsCard from './components/UserPointsCard.vue'\r\nimport FilterBar from './components/FilterBar.vue'\r\nimport PointsProductCard from './components/PointsProductCard.vue'\r\n\r\nexport default {\r\n\tcomponents: {\r\n\t\tUserPointsCard,\r\n\t\tFilterBar,\r\n\t\tPointsProductCard\r\n\t},\r\n\t\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tuserName: '用户名称',\r\n\t\t\tuserPoints: 0,\r\n\t\t\tproducts: [],\r\n\t\t\tfilterOptions: [],\r\n\t\t\tsortOptions: [],\r\n\t\t\tcurrentFilter: 'all',\r\n\t\t\tcurrentSort: 'default',\r\n\t\t\tloading: false,\r\n\t\t\thasMore: true,\r\n\t\t\tpage: 1,\r\n\t\t\tpageSize: 10,\r\n\t\t\tshowWithdrawModal: false,\r\n\t\t\twithdrawPoints: '',\r\n\t\t\twithdrawAmount: '0.00'\r\n\t\t}\r\n\t},\r\n\t\r\n\tcomputed: {\r\n\t\t// 筛选后的商品列表\r\n\t\tfilteredProducts() {\r\n\t\t\tlet result = [...this.products]\r\n\t\t\t\r\n\t\t\t// 应用筛选\r\n\t\t\tif (this.currentFilter !== 'all') {\r\n\t\t\t\tresult = result.filter(p => p.category === this.currentFilter)\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// 应用排序\r\n\t\t\tswitch (this.currentSort) {\r\n\t\t\t\tcase 'points_asc':\r\n\t\t\t\t\tresult.sort((a, b) => a.points - b.points)\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase 'points_desc':\r\n\t\t\t\t\tresult.sort((a, b) => b.points - a.points)\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase 'stock_desc':\r\n\t\t\t\t\tresult.sort((a, b) => b.stock - a.stock)\r\n\t\t\t\t\tbreak\r\n\t\t\t\tdefault:\r\n\t\t\t\t\t// 默认排序\r\n\t\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn result\r\n\t\t},\r\n\t\t\r\n\t\t// 显示的商品列表\r\n\t\tdisplayProducts() {\r\n\t\t\treturn this.filteredProducts\r\n\t\t}\r\n\t},\r\n\t\r\n\tonLoad() {\r\n\t\tthis.loadData()\r\n\t},\r\n\t\r\n\tonPullDownRefresh() {\r\n\t\tthis.page = 1\r\n\t\tthis.hasMore = true\r\n\t\tthis.loadData().then(() => {\r\n\t\t\tuni.stopPullDownRefresh()\r\n\t\t})\r\n\t},\r\n\t\r\n\tonReachBottom() {\r\n\t\tif (this.hasMore && !this.loading) {\r\n\t\t\tthis.loadMore()\r\n\t\t}\r\n\t},\r\n\t\r\n\tmethods: {\r\n\t\t// 加载数据\r\n\t\tasync loadData() {\r\n\t\t\ttry {\r\n\t\t\t\tthis.loading = true\r\n\t\t\t\t\r\n\t\t\t\t// 加载用户积分信息\r\n\t\t\t\tawait this.loadUserPoints()\r\n\t\t\t\t\r\n\t\t\t\t// 加载商品列表\r\n\t\t\t\tawait this.loadProducts()\r\n\t\t\t\t\r\n\t\t\t\t// 加载筛选和排序选项\r\n\t\t\t\tthis.filterOptions = pointsData.filterOptions\r\n\t\t\t\tthis.sortOptions = pointsData.sortOptions\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error('加载数据失败:', error)\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '加载失败',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t})\r\n\t\t\t} finally {\r\n\t\t\t\tthis.loading = false\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t// 加载用户积分\r\n\t\tasync loadUserPoints() {\r\n\t\t\ttry {\r\n\t\t\t\tconst res = await getUserPoints()\r\n\t\t\t\tif (res.code === 200) {\r\n\t\t\t\t\tthis.userPoints = res.data.points || 0\r\n\t\t\t\t\tthis.userName = res.data.userName || '用户名称'\r\n\t\t\t\t}\r\n\t\t\t} catch (error) {\r\n\t\t\t\t// 使用本地数据\r\n\t\t\t\tconsole.log('使用本地积分数据:', error)\r\n\t\t\t\tthis.userPoints = pointsData.userPoints.points\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t// 加载商品列表\r\n\t\tasync loadProducts() {\r\n\t\t\ttry {\r\n\t\t\t\tconst res = await getPointsProducts({\r\n\t\t\t\t\tpage: this.page,\r\n\t\t\t\t\tpageSize: this.pageSize\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\tif (res.code === 200) {\r\n\t\t\t\t\tif (this.page === 1) {\r\n\t\t\t\t\t\tthis.products = res.data.list || []\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.products = [...this.products, ...(res.data.list || [])]\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.hasMore = res.data.hasMore || false\r\n\t\t\t\t}\r\n\t\t\t} catch (error) {\r\n\t\t\t\t// 使用本地数据\r\n\t\t\t\tconsole.log('使用本地商品数据:', error)\r\n\t\t\t\tthis.products = pointsData.products\r\n\t\t\t\tthis.hasMore = false\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t// 加载更多\r\n\t\tasync loadMore() {\r\n\t\t\tif (this.loading || !this.hasMore) return\r\n\t\t\t\r\n\t\t\tthis.page++\r\n\t\t\tawait this.loadProducts()\r\n\t\t},\r\n\t\t\r\n\t\t// 筛选\r\n\t\thandleFilter(value) {\r\n\t\t\tthis.currentFilter = value\r\n\t\t},\r\n\t\t\r\n\t\t// 排序\r\n\t\thandleSort(value) {\r\n\t\t\tthis.currentSort = value\r\n\t\t},\r\n\t\t\r\n\t\t// 查看积分明细\r\n\t\thandlePointsDetail() {\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl: '/pages/points/detail'\r\n\t\t\t})\r\n\t\t},\r\n\t\t\r\n\t\t// 打开卡券中心\r\n\t\thandleCouponCenter() {\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl: '/pages/coupon/coupon'\r\n\t\t\t})\r\n\t\t},\r\n\r\n\t\t// 提现到钱包\r\n\t\thandleWithdraw() {\r\n\t\t\t// 检查积分\r\n\t\t\tif (this.userPoints <= 0) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '当前积分不足，无法提现',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t})\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\t// 显示自定义提现弹窗\r\n\t\t\tthis.showWithdrawModal = true\r\n\t\t\tthis.withdrawPoints = ''\r\n\t\t\tthis.withdrawAmount = '0.00'\r\n\t\t},\r\n\r\n\t\t// 关闭提现弹窗\r\n\t\tcloseWithdrawModal() {\r\n\t\t\tthis.showWithdrawModal = false\r\n\t\t\tthis.withdrawPoints = ''\r\n\t\t\tthis.withdrawAmount = '0.00'\r\n\t\t},\r\n\r\n\t\t// 计算提现金额\r\n\t\tcalculateAmount() {\r\n\t\t\tconst points = parseInt(this.withdrawPoints)\r\n\t\t\tif (isNaN(points) || points <= 0) {\r\n\t\t\t\tthis.withdrawAmount = '0.00'\r\n\t\t\t} else {\r\n\t\t\t\t// 积分兑换比例：100积分 = 1元\r\n\t\t\t\tthis.withdrawAmount = (points / 100).toFixed(2)\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// 确认提现（第一步）\r\n\t\tconfirmWithdrawStep() {\r\n\t\t\tconst points = parseInt(this.withdrawPoints)\r\n\r\n\t\t\t// 验证输入\r\n\t\t\tif (isNaN(points) || points <= 0) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '请输入有效的积分数量',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t})\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\t// 检查积分是否足够\r\n\t\t\tif (points > this.userPoints) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '积分不足，请重新输入',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t})\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\t// 关闭输入弹窗\r\n\t\t\tthis.closeWithdrawModal()\r\n\r\n\t\t\t// 显示二次确认弹窗\r\n\t\t\tconst amount = this.withdrawAmount\r\n\t\t\tuni.showModal({\r\n\t\t\t\ttitle: '确认提现',\r\n\t\t\t\tcontent: `提现积分：${points}分\\n到账金额：¥${amount}元\\n\\n确认提现到钱包吗？`,\r\n\t\t\t\tcancelText: '取消',\r\n\t\t\t\tconfirmText: '确认提现',\r\n\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\tthis.confirmWithdraw(points, amount)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\r\n\t\t// 确认提现\r\n\t\tasync confirmWithdraw(points, amount) {\r\n\t\t\ttry {\r\n\t\t\t\tuni.showLoading({ title: '提现中...' })\r\n\r\n\t\t\t\t// TODO: 调用后端API进行提现\r\n\t\t\t\t// const result = await withdrawApi.withdraw({ points: points })\r\n\t\t\t\t// const arrivalTime = result.data.arrivalTime\r\n\r\n\t\t\t\t// 模拟提现成功\r\n\t\t\t\tawait new Promise(resolve => setTimeout(resolve, 1000))\r\n\r\n\t\t\t\t// 模拟到账时间（实际应从后端获取）\r\n\t\t\t\tconst arrivalTime = '1-3个工作日'\r\n\r\n\t\t\t\tuni.hideLoading()\r\n\r\n\t\t\t\t// 显示提现成功提示\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '提现成功',\r\n\t\t\t\t\tcontent: `提现积分：${points}分\\n到账金额：¥${amount}元\\n预计到账时间：${arrivalTime}\\n\\n请注意查收钱包余额`,\r\n\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\tconfirmText: '我知道了',\r\n\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\t// 刷新积分数据\r\n\t\t\t\t\t\tthis.loadUserPoints()\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t} catch (error) {\r\n\t\t\t\tuni.hideLoading()\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: error.message || '提现失败，请重试',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// 查看商品详情\r\n\t\thandleProductDetail(product) {\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl: `/pages/points/product?id=${product.id}`\r\n\t\t\t})\r\n\t\t},\r\n\t\t\r\n\t\t// 兑换商品\r\n\t\tasync handleExchange(product) {\r\n\t\t\t// 检查库存\r\n\t\t\tif (product.stock <= 0) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '库存不足',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t})\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// 检查积分\r\n\t\t\tif (this.userPoints < product.points) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '积分不足',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t})\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// 确认兑换\r\n\t\t\tuni.showModal({\r\n\t\t\t\ttitle: '确认兑换',\r\n\t\t\t\tcontent: `本次兑换需消耗 ${product.points} 积分，是否确认兑换？一经兑换不退不换。`,\r\n\t\t\t\tcancelText: '取消',\r\n\t\t\t\tconfirmText: '确认兑换',\r\n\t\t\t\tsuccess: async (res) => {\r\n\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tconst result = await exchangeProduct(product.id, {\r\n\t\t\t\t\t\t\t\tquantity: 1\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (result.code === 200) {\r\n\t\t\t\t\t\t\t\t// 刷新数据\r\n\t\t\t\t\t\t\t\tthis.page = 1\r\n\t\t\t\t\t\t\t\tawait this.loadData()\r\n\r\n\t\t\t\t\t\t\t\t// 显示兑换成功弹窗\r\n\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t\ttitle: '兑换成功',\r\n\t\t\t\t\t\t\t\t\tcontent: '恭喜您兑换成功！可前往卡券中心查看和使用。',\r\n\t\t\t\t\t\t\t\t\tcancelText: '稍后再说',\r\n\t\t\t\t\t\t\t\t\tconfirmText: '去使用',\r\n\t\t\t\t\t\t\t\t\tsuccess: (modalRes) => {\r\n\t\t\t\t\t\t\t\t\t\tif (modalRes.confirm) {\r\n\t\t\t\t\t\t\t\t\t\t\t// 跳转到卡券中心\r\n\t\t\t\t\t\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\t\t\t\t\t\turl: '/pages/coupon/coupon'\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: error.message || '兑换失败',\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '@/styles/variables.scss';\r\n\r\n.points-page {\r\n\tmin-height: 100vh;\r\n\tbackground-color: $bg-color;\r\n\tpadding-bottom: 100rpx;\r\n}\r\n\r\n.products-grid {\r\n\tdisplay: grid;\r\n\tgrid-template-columns: repeat(2, 1fr);\r\n\tgap: $spacing-3;\r\n\tpadding: $spacing-3 $spacing-4;\r\n}\r\n\r\n.load-more,\r\n.loading,\r\n.no-more {\r\n\tpadding: $spacing-4;\r\n\ttext-align: center;\r\n}\r\n\r\n.load-more {\r\n\t&:active {\r\n\t\topacity: 0.7;\r\n\t}\r\n}\r\n\r\n.load-more-text {\r\n\tfont-size: $font-t4;\r\n\tcolor: $brand-blue;\r\n\tline-height: $line-height-t4;\r\n}\r\n\r\n.no-more-text {\r\n\tfont-size: $font-t4;\r\n\tcolor: $text-secondary;\r\n\tline-height: $line-height-t4;\r\n}\r\n\r\n.empty-state {\r\n\tpadding: 200rpx $spacing-4;\r\n\ttext-align: center;\r\n}\r\n\r\n.empty-text {\r\n\tfont-size: $font-t4;\r\n\tcolor: $text-secondary;\r\n\tline-height: $line-height-t4;\r\n}\r\n\r\n// 提现弹窗样式\r\n.withdraw-modal-overlay {\r\n\tposition: fixed;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\tbackground-color: rgba(0, 0, 0, 0.5);\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\tz-index: 1000;\r\n}\r\n\r\n.withdraw-modal-content {\r\n\twidth: 640rpx;\r\n\tbackground-color: #FFFFFF;\r\n\tborder-radius: $radius-large;\r\n\toverflow: hidden;\r\n}\r\n\r\n.withdraw-modal-header {\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n\tpadding: $spacing-4;\r\n\tborder-bottom: 1rpx solid $divider-color;\r\n}\r\n\r\n.withdraw-modal-title {\r\n\tfont-size: $font-t2;\r\n\tcolor: $text-title;\r\n\tfont-weight: 600;\r\n}\r\n\r\n.withdraw-modal-close {\r\n\tfont-size: 48rpx;\r\n\tcolor: $text-secondary;\r\n\tline-height: 1;\r\n\tpadding: 0 $spacing-2;\r\n}\r\n\r\n.withdraw-modal-body {\r\n\tpadding: $spacing-4;\r\n}\r\n\r\n.withdraw-info {\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n\tpadding: $spacing-3;\r\n\tbackground-color: $bg-color;\r\n\tborder-radius: $radius-medium;\r\n\tmargin-bottom: $spacing-4;\r\n}\r\n\r\n.withdraw-info-label {\r\n\tfont-size: $font-t3;\r\n\tcolor: $text-body;\r\n}\r\n\r\n.withdraw-info-value {\r\n\tfont-size: $font-t2;\r\n\tcolor: $brand-blue;\r\n\tfont-weight: 600;\r\n}\r\n\r\n.withdraw-input-section {\r\n\tmargin-bottom: $spacing-3;\r\n}\r\n\r\n.withdraw-input-label {\r\n\tdisplay: block;\r\n\tfont-size: $font-t4;\r\n\tcolor: $text-body;\r\n\tmargin-bottom: $spacing-2;\r\n}\r\n\r\n.withdraw-input {\r\n\twidth: 100%;\r\n\theight: 88rpx;\r\n\tpadding: 0 $spacing-3;\r\n\tfont-size: $font-t3;\r\n\tborder: 1rpx solid $divider-color;\r\n\tborder-radius: $radius-medium;\r\n\tbackground-color: $bg-color;\r\n}\r\n\r\n.withdraw-exchange-rate {\r\n\tpadding: $spacing-2 0;\r\n\tmargin-bottom: $spacing-3;\r\n}\r\n\r\n.exchange-rate-text {\r\n\tfont-size: $font-t5;\r\n\tcolor: $text-secondary;\r\n}\r\n\r\n.withdraw-amount-section {\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n\tpadding: $spacing-3;\r\n\tbackground: linear-gradient(135deg, rgba(68, 88, 255, 0.1) 0%, rgba(19, 134, 255, 0.1) 100%);\r\n\tborder-radius: $radius-medium;\r\n\tmargin-top: $spacing-3;\r\n}\r\n\r\n.withdraw-amount-label {\r\n\tfont-size: $font-t3;\r\n\tcolor: $text-body;\r\n}\r\n\r\n.withdraw-amount-value {\r\n\tfont-size: 48rpx;\r\n\tcolor: $brand-blue;\r\n\tfont-weight: 600;\r\n}\r\n\r\n.withdraw-modal-footer {\r\n\tdisplay: flex;\r\n\tborder-top: 1rpx solid $divider-color;\r\n}\r\n\r\n.withdraw-modal-btn {\r\n\tflex: 1;\r\n\theight: 96rpx;\r\n\tfont-size: $font-t3;\r\n\tborder: none;\r\n\tborder-radius: 0;\r\n\tbackground-color: transparent;\r\n\r\n\t&::after {\r\n\t\tborder: none;\r\n\t}\r\n}\r\n\r\n.cancel-btn {\r\n\tcolor: $text-secondary;\r\n\tborder-right: 1rpx solid $divider-color;\r\n}\r\n\r\n.confirm-btn {\r\n\tcolor: $brand-blue;\r\n\tfont-weight: 600;\r\n}\r\n</style>","import MiniProgramPage from 'C:/Users/26593/Documents/HBuilderProjects/shixiaoyun/pages/points/points.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","pointsData","getUserPoints","getPointsProducts","exchangeProduct"],"mappings":"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"}