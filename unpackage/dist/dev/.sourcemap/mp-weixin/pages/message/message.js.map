{"version":3,"file":"message.js","sources":["pages/message/message.vue","E:/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbWVzc2FnZS9tZXNzYWdlLnZ1ZQ"],"sourcesContent":["<template>\r\n\t<view class=\"message-container\">\r\n\t\t<view class=\"tabs\">\r\n\t\t\t<view \r\n\t\t\t\tv-for=\"(tab, index) in tabs\" \r\n\t\t\t\t:key=\"index\"\r\n\t\t\t\tclass=\"tab-item\"\r\n\t\t\t\t:class=\"{ active: currentTab === index }\"\r\n\t\t\t\t@tap=\"switchTab(index)\"\r\n\t\t\t>\r\n\t\t\t\t<text class=\"tab-text\">{{ tab.name }}</text>\r\n\t\t\t\t<view v-if=\"tab.badge > 0\" class=\"badge\">{{ tab.badge > 99 ? '99+' : tab.badge }}</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<scroll-view \r\n\t\t\tclass=\"message-list\" \r\n\t\t\tscroll-y \r\n\t\t\t@scrolltolower=\"loadMore\"\r\n\t\t>\r\n\t\t\t<view v-if=\"messages.length === 0\" class=\"empty-state\">\r\n\t\t\t\t<image class=\"empty-icon\" src=\"/static/images/empty-message.png\" mode=\"aspectFit\"></image>\r\n\t\t\t\t<text class=\"empty-text\">暂无消息</text>\r\n\t\t\t\t<text class=\"empty-hint\">您还没有收到任何消息</text>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<view v-else class=\"message-items\">\r\n\t\t\t\t<view \r\n\t\t\t\t\tv-for=\"(item, index) in messages\" \r\n\t\t\t\t\t:key=\"index\"\r\n\t\t\t\t\tclass=\"message-item\"\r\n\t\t\t\t\t@tap=\"openMessage(item)\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<view class=\"avatar\">\r\n\t\t\t\t\t\t<image :src=\"item.avatar\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t<view v-if=\"item.unread\" class=\"unread-dot\"></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"message-content\">\r\n\t\t\t\t\t\t<view class=\"message-header\">\r\n\t\t\t\t\t\t\t<text class=\"sender-name\">{{ item.senderName }}</text>\r\n\t\t\t\t\t\t\t<text class=\"message-time\">{{ item.time }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"message-preview\">\r\n\t\t\t\t\t\t\t<text class=\"preview-text\" :class=\"{ unread: item.unread }\">{{ item.content }}</text>\r\n\t\t\t\t\t\t\t<view v-if=\"item.unread\" class=\"unread-badge\">{{ item.unreadCount }}</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</scroll-view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tcurrentTab: 0,\r\n\t\t\ttabs: [\r\n\t\t\t\t{ name: '全部', badge: 0 },\r\n\t\t\t\t{ name: '系统通知', badge: 0 },\r\n\t\t\t\t{ name: '活动消息', badge: 0 }\r\n\t\t\t],\r\n\t\t\tmessages: []\r\n\t\t}\r\n\t},\r\n\tonLoad() {\r\n\t\tthis.loadMessages()\r\n\t},\r\n\tonPullDownRefresh() {\r\n\t\tthis.loadMessages()\r\n\t\tsetTimeout(() => {\r\n\t\t\tuni.stopPullDownRefresh()\r\n\t\t}, 1000)\r\n\t},\r\n\tmethods: {\r\n\t\tswitchTab(index) {\r\n\t\t\tthis.currentTab = index\r\n\t\t\tthis.loadMessages()\r\n\t\t},\r\n\t\tloadMessages() {\r\n\t\t\t// TODO: 实现消息数据加载\r\n\t\t\tconsole.log('加载消息数据，当前标签:', this.currentTab)\r\n\t\t},\r\n\t\tloadMore() {\r\n\t\t\t// TODO: 实现加载更多\r\n\t\t\tconsole.log('加载更多消息')\r\n\t\t},\r\n\t\topenMessage(item) {\r\n\t\t\t// TODO: 打开消息详情\r\n\t\t\tconsole.log('打开消息:', item)\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '@/styles/variables.scss';\r\n\r\n.message-container {\r\n\tmin-height: 100vh;\r\n\tbackground-color: $bg-color;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n}\r\n\r\n.tabs {\r\n\tdisplay: flex;\r\n\tbackground-color: $card-bg;\r\n\tpadding: 0 $spacing-4;\r\n\tborder-bottom: 1rpx solid $divider-color;\r\n}\r\n\r\n.tab-item {\r\n\tposition: relative;\r\n\tflex: 1;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\theight: 88rpx;\r\n}\r\n\r\n.tab-text {\r\n\tfont-size: $font-t3;\r\n\tcolor: $text-body;\r\n\ttransition: all $transition-duration $transition-timing;\r\n}\r\n\r\n.tab-item.active .tab-text {\r\n\tcolor: $brand-blue;\r\n\tfont-weight: 600;\r\n}\r\n\r\n.tab-item.active::after {\r\n\tcontent: '';\r\n\tposition: absolute;\r\n\tbottom: 0;\r\n\tleft: 50%;\r\n\ttransform: translateX(-50%);\r\n\twidth: 48rpx;\r\n\theight: 4rpx;\r\n\tbackground-color: $brand-blue;\r\n\tborder-radius: 2rpx;\r\n}\r\n\r\n.badge {\r\n\tposition: absolute;\r\n\ttop: 16rpx;\r\n\tright: 20rpx;\r\n\tmin-width: 32rpx;\r\n\theight: 32rpx;\r\n\tpadding: 0 8rpx;\r\n\tbackground-color: $assist-red;\r\n\tcolor: #FFFFFF;\r\n\tfont-size: $font-t6;\r\n\tborder-radius: 16rpx;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n}\r\n\r\n.message-list {\r\n\tflex: 1;\r\n\theight: calc(100vh - 88rpx);\r\n}\r\n\r\n.empty-state {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\tpadding: 120rpx 0;\r\n}\r\n\r\n.empty-icon {\r\n\twidth: 240rpx;\r\n\theight: 240rpx;\r\n\tmargin-bottom: $spacing-4;\r\n\topacity: 0.6;\r\n}\r\n\r\n.empty-text {\r\n\tfont-size: $font-t3;\r\n\tcolor: $text-body;\r\n\tmargin-bottom: $spacing-2;\r\n}\r\n\r\n.empty-hint {\r\n\tfont-size: $font-t4;\r\n\tcolor: $text-secondary;\r\n}\r\n\r\n.message-items {\r\n\tbackground-color: $card-bg;\r\n}\r\n\r\n.message-item {\r\n\tdisplay: flex;\r\n\tpadding: $spacing-3 $spacing-4;\r\n\tborder-bottom: 1rpx solid $divider-color;\r\n\ttransition: background-color $transition-duration $transition-timing;\r\n}\r\n\r\n.message-item:active {\r\n\tbackground-color: $bg-color;\r\n}\r\n\r\n.avatar {\r\n\tposition: relative;\r\n\twidth: 96rpx;\r\n\theight: 96rpx;\r\n\tmargin-right: $spacing-3;\r\n\tflex-shrink: 0;\r\n}\r\n\r\n.avatar image {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tborder-radius: $radius-circle;\r\n}\r\n\r\n.unread-dot {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tright: 0;\r\n\twidth: 16rpx;\r\n\theight: 16rpx;\r\n\tbackground-color: $assist-red;\r\n\tborder: 2rpx solid $card-bg;\r\n\tborder-radius: $radius-circle;\r\n}\r\n\r\n.message-content {\r\n\tflex: 1;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tjustify-content: space-between;\r\n\tmin-width: 0;\r\n}\r\n\r\n.message-header {\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n\tmargin-bottom: $spacing-1;\r\n}\r\n\r\n.sender-name {\r\n\tfont-size: $font-t3;\r\n\tcolor: $text-title;\r\n\tfont-weight: 500;\r\n}\r\n\r\n.message-time {\r\n\tfont-size: $font-t5;\r\n\tcolor: $text-secondary;\r\n\tflex-shrink: 0;\r\n\tmargin-left: $spacing-2;\r\n}\r\n\r\n.message-preview {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: space-between;\r\n}\r\n\r\n.preview-text {\r\n\tflex: 1;\r\n\tfont-size: $font-t4;\r\n\tcolor: $text-body;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n\twhite-space: nowrap;\r\n}\r\n\r\n.preview-text.unread {\r\n\tcolor: $text-title;\r\n\tfont-weight: 500;\r\n}\r\n\r\n.unread-badge {\r\n\tmin-width: 32rpx;\r\n\theight: 32rpx;\r\n\tpadding: 0 8rpx;\r\n\tbackground-color: $assist-red;\r\n\tcolor: #FFFFFF;\r\n\tfont-size: $font-t6;\r\n\tborder-radius: 16rpx;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\tmargin-left: $spacing-2;\r\n\tflex-shrink: 0;\r\n}\r\n</style>","import MiniProgramPage from 'C:/Users/26593/Documents/HBuilderProjects/shixiaoyun/pages/message/message.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":";;;AAsDA,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO;AAAA,MACN,YAAY;AAAA,MACZ,MAAM;AAAA,QACL,EAAE,MAAM,MAAM,OAAO,EAAG;AAAA,QACxB,EAAE,MAAM,QAAQ,OAAO,EAAG;AAAA,QAC1B,EAAE,MAAM,QAAQ,OAAO,EAAE;AAAA,MACzB;AAAA,MACD,UAAU,CAAC;AAAA,IACZ;AAAA,EACA;AAAA,EACD,SAAS;AACR,SAAK,aAAa;AAAA,EAClB;AAAA,EACD,oBAAoB;AACnB,SAAK,aAAa;AAClB,eAAW,MAAM;AAChBA,oBAAAA,MAAI,oBAAoB;AAAA,IACxB,GAAE,GAAI;AAAA,EACP;AAAA,EACD,SAAS;AAAA,IACR,UAAU,OAAO;AAChB,WAAK,aAAa;AAClB,WAAK,aAAa;AAAA,IAClB;AAAA,IACD,eAAe;AAEdA,oBAAY,MAAA,MAAA,OAAA,mCAAA,gBAAgB,KAAK,UAAU;AAAA,IAC3C;AAAA,IACD,WAAW;AAEVA,oBAAAA,MAAY,MAAA,OAAA,mCAAA,QAAQ;AAAA,IACpB;AAAA,IACD,YAAY,MAAM;AAEjBA,oBAAAA,MAAA,MAAA,OAAA,mCAAY,SAAS,IAAI;AAAA,IAC1B;AAAA,EACD;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5FA,GAAG,WAAW,eAAe;"}