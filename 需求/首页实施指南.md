# 视消云小程序首页实施指南

## 📋 实施概览

本指南提供了完整的首页实现步骤，包括文件创建、代码实现、配置更新等。

---

## 🎯 实施目标

根据参考图片，实现一个功能完整的微信小程序首页，包含：
- ✅ 搜索框
- ✅ 轮播横幅
- ✅ 快捷入口（3个圆形图标）
- ✅ 活动列表
- ✅ 底部导航栏

---

## 📂 文件创建清单

### 1. 组件文件（需创建）

```
pages/index/components/
├── SearchBar.vue           ✓ 搜索框组件
├── BannerSwiper.vue        ✓ 轮播横幅组件
├── QuickEntry.vue          ✓ 快捷入口组件
├── SectionTitle.vue        ✓ 区块标题组件
└── ActivityCard.vue        ✓ 活动卡片组件
```

### 2. 数据文件（需创建）

```
data/
└── home.js                 ✓ 首页数据模型
```

### 3. API文件（需创建或更新）

```
api/
└── activity.js             ✓ 活动相关API接口
```

### 4. 样式文件（需创建）

```
styles/
├── variables.scss          ✓ 全局样式变量
└── mixins.scss             ✓ 样式混入（可选）
```

### 5. 静态资源（需准备）

```
static/images/home/
├── banner/
│   ├── banner1.jpg         ⚠ 需准备横幅图片
│   └── banner2.jpg
├── icons/
│   ├── checkin.png         ⚠ 需准备图标
│   ├── cooperation.png
│   └── points.png
└── activities/
    ├── activity1.jpg       ⚠ 需准备活动图片
    └── activity2.jpg
```

---

## 🔧 实施步骤

### 步骤 1: 创建目录结构

```bash
# 在项目根目录执行
mkdir -p pages/index/components
mkdir -p data
mkdir -p styles
mkdir -p static/images/home/banner
mkdir -p static/images/home/icons
mkdir -p static/images/home/activities
```

### 步骤 2: 创建样式变量文件

创建 `styles/variables.scss`，复制以下内容：

```scss
// 颜色变量
$brand-blue: #4458ff;
$bg-color: #F5F6FA;
$card-bg: #FFFFFF;
$text-title: #17171a;
$text-body: #656a73;
$text-secondary: #a7abb2;

// 间距变量
$spacing-1: 8rpx;
$spacing-2: 16rpx;
$spacing-3: 24rpx;
$spacing-4: 32rpx;

// 字体大小
$font-t2: 36rpx;
$font-t3: 32rpx;
$font-t4: 28rpx;
$font-t5: 24rpx;
```

### 步骤 3: 创建数据模型文件

创建 `data/home.js`，参考 `需求/首页组件实现代码.md` 中的数据模型部分。

### 步骤 4: 创建API接口文件

创建或更新 `api/activity.js`，参考 `需求/首页组件实现代码.md` 中的API接口部分。

### 步骤 5: 创建组件文件

按照以下顺序创建组件：

1. **SearchBar.vue** - 搜索框组件
2. **BannerSwiper.vue** - 轮播横幅组件
3. **QuickEntry.vue** - 快捷入口组件
4. **SectionTitle.vue** - 区块标题组件
5. **ActivityCard.vue** - 活动卡片组件

每个组件的完整代码请参考 `需求/首页组件实现代码.md`。

### 步骤 6: 更新首页主文件

更新 `pages/index/index.vue`，替换为 `需求/首页组件实现代码.md` 中的首页主文件代码。

### 步骤 7: 配置 pages.json

确保 `pages.json` 中包含首页配置：

```json
{
  "pages": [
    {
      "path": "pages/index/index",
      "style": {
        "navigationBarTitleText": "视消云",
        "enablePullDownRefresh": true,
        "onReachBottomDistance": 50
      }
    }
  ]
}
```

### 步骤 8: 准备静态资源

1. 准备横幅图片（建议尺寸：750×560px）
2. 准备图标图片（建议尺寸：128×128px）
3. 准备活动图片（建议尺寸：750×800px）
4. 将图片放置到对应目录

### 步骤 9: 配置全局样式

在 `uni.scss` 中导入变量文件：

```scss
@import '@/styles/variables.scss';
```

### 步骤 10: 测试和调试

1. 运行项目：`npm run dev:mp-weixin`
2. 在微信开发者工具中打开项目
3. 测试各个功能：
   - ✓ 搜索框点击跳转
   - ✓ 横幅轮播和点击
   - ✓ 快捷入口点击跳转
   - ✓ 活动卡片展示和交互
   - ✓ 下拉刷新
   - ✓ 上拉加载更多

---

## 🎨 UI规范检查清单

### 颜色规范
- [ ] 品牌蓝 #4458ff 用于主要按钮和选中状态
- [ ] 背景色 #F5F6FA 用于页面背景
- [ ] 卡片背景 #FFFFFF
- [ ] 标题文字 #17171a
- [ ] 正文 #656a73
- [ ] 辅助文字 #a7abb2

### 间距规范
- [ ] 屏幕左右边距：32rpx (16px)
- [ ] 卡片内边距：24rpx (12px)
- [ ] 元素间距：16rpx (8px)
- [ ] 最小间距：8rpx (4px)

### 字体规范
- [ ] 大标题：36rpx (18pt)，字重500
- [ ] 正文：32rpx (16pt)，字重400
- [ ] 辅助说明：28rpx (14pt)，字重400
- [ ] 辅助文案：24rpx (12pt)，字重400

### 圆角规范
- [ ] 卡片圆角：16rpx (8px)
- [ ] 搜索框圆角：16rpx (8px)
- [ ] 按钮圆角：32rpx (16px)

---

## 🔌 后端接口对接

### 需要的接口

#### 1. 获取首页数据
```
GET /api/home/data

响应格式：
{
  "code": 200,
  "message": "success",
  "data": {
    "banners": [...],
    "quickEntries": [...],
    "activities": [...],
    "hasMore": true
  }
}
```

#### 2. 获取活动列表
```
GET /api/activities?page=1&pageSize=10

响应格式：
{
  "code": 200,
  "message": "success",
  "data": {
    "list": [...],
    "total": 100,
    "hasMore": true
  }
}
```

#### 3. 报名活动
```
POST /api/activities/{id}/join

响应格式：
{
  "code": 200,
  "message": "报名成功"
}
```

---

## 🐛 常见问题解决

### 问题 1: 组件无法显示
**原因**: 组件路径错误或未正确导入
**解决**: 检查组件路径和 import 语句

### 问题 2: 样式不生效
**原因**: 未正确导入样式变量
**解决**: 在 `uni.scss` 中导入 `variables.scss`

### 问题 3: 图片无法显示
**原因**: 图片路径错误或图片不存在
**解决**: 检查图片路径，确保图片文件存在

### 问题 4: API请求失败
**原因**: 后端接口未实现或请求地址错误
**解决**: 检查 `utils/request.js` 中的 baseURL 配置

### 问题 5: 轮播图不自动播放
**原因**: autoplay 属性未设置或设置错误
**解决**: 确保 BannerSwiper 组件的 autoplay 属性为 true

---

## 📊 性能优化建议

### 1. 图片优化
- 使用 WebP 格式（微信小程序支持）
- 压缩图片大小
- 使用 CDN 加载图片

### 2. 列表优化
- 实现虚拟列表（数据量大时）
- 使用分页加载
- 图片懒加载

### 3. 缓存优化
- 缓存首页数据
- 使用 uni.setStorage 存储常用数据
- 设置合理的缓存过期时间

### 4. 请求优化
- 合并请求
- 使用请求防抖
- 添加加载状态

---

## ✅ 验收标准

### 功能验收
- [ ] 搜索框可点击，跳转到搜索页
- [ ] 横幅可自动轮播，点击可跳转
- [ ] 快捷入口可点击，跳转到对应页面
- [ ] 活动列表正确显示
- [ ] 活动卡片可点击查看详情
- [ ] 报名按钮可点击，显示正确状态
- [ ] 下拉刷新功能正常
- [ ] 上拉加载更多功能正常

### UI验收
- [ ] 整体布局符合设计稿
- [ ] 颜色使用符合规范
- [ ] 字体大小和字重正确
- [ ] 间距符合规范
- [ ] 圆角符合规范
- [ ] 响应式适配正常

### 性能验收
- [ ] 首屏加载时间 < 2秒
- [ ] 页面滚动流畅，无卡顿
- [ ] 图片加载正常，无白屏
- [ ] 内存占用合理

---

## 📝 后续扩展

### 可选功能
1. **搜索历史**: 记录用户搜索历史
2. **活动筛选**: 按状态、时间筛选活动
3. **活动收藏**: 收藏感兴趣的活动
4. **消息推送**: 活动提醒推送
5. **分享功能**: 分享活动到微信好友

### 优化方向
1. **骨架屏**: 添加加载骨架屏
2. **错误处理**: 完善错误提示
3. **空状态**: 优化空状态展示
4. **动画效果**: 添加页面过渡动画
5. **无障碍**: 支持无障碍访问

---

## 📚 参考文档

- [需求/首页实现方案.md](./首页实现方案.md) - 完整实现方案
- [需求/首页组件实现代码.md](./首页组件实现代码.md) - 组件代码
- [需求/需求.md](./需求.md) - 项目需求文档
- [uni-app 官方文档](https://uniapp.dcloud.net.cn/)
- [微信小程序官方文档](https://developers.weixin.qq.com/miniprogram/dev/framework/)

---

## 🎉 完成标志

当以下所有项都完成时，首页实施即告完成：

- [x] 所有组件文件已创建
- [x] 数据模型文件已创建
- [x] API接口文件已创建
- [x] 样式变量文件已创建
- [ ] 静态资源已准备
- [ ] pages.json 已配置
- [ ] 功能测试通过
- [ ] UI验收通过
- [ ] 性能验收通过

---

**祝实施顺利！** 🚀